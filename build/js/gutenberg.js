!function(){var e={506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}},154:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.exports=t},754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},205:function(e,t,n){var o=n(489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},585:function(e,t,n){var o=n(8),r=n(506);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}},489:function(e){function t(n,o){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,o)}e.exports=t},8:function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},392:function(e,t,n){"use strict";var o=window.wp.i18n,r=window.wp.blocks,l=n(575),i=n.n(l),c=n(913),a=n.n(c),s=n(506),u=n.n(s),p=n(205),f=n.n(p),d=n(585),m=n.n(d),y=n(754),b=n.n(y),h=window.wp.element,v=window.wp.blockEditor,g=window.wp.components,k=window.wp.data,E=window.lodash,z=[[[12,0,4,0,0],[12,0,8,0,0]],[[12,0,8,0,0],[12,0,4,0,0]],[[12,0,6,0,0],[12,0,6,0,0]],[[12,0,4,0,0],[12,0,4,0,0],[12,0,4,0,0]],[[12,0,8,0,0],[12,0,4,0,0],[12,0,4,0,0],[12,0,8,0,0]]];function w(e){var t=e.layout,n=e.onClick;return(0,h.createElement)("div",{className:"row ized-section-layout-row",onClick:function(){return n(t)}},t.map((function(e){return(0,h.createElement)("div",{className:"col-"+e[2]+" ized-section-layout-col"})})))}function x(e){var t=e.setLayout;function n(e){t({layout:e,columns:e.length,settingLayout:!0})}return(0,h.createElement)("div",{className:"ized-section-layout-container"},z.map((function(e){return(0,h.createElement)("div",{className:"ized-section-layout ized-section-row"},(0,h.createElement)(w,{layout:e,onClick:n}))})))}var B=(0,k.select)("core/block-editor").getBlocks,C=(0,k.dispatch)("core/block-editor").replaceInnerBlocks,S=function(e){f()(c,e);var t,n,l=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=b()(t);if(n){var r=b()(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return m()(this,e)});function c(){var e;return i()(this,c),(e=l.apply(this,arguments)).ButtonType=e.ButtonType.bind(u()(e)),e.layoutBlocks=e.layoutBlocks.bind(u()(e)),e.setEtat=e.setEtat.bind(u()(e)),e.setLayout=e.setLayout.bind(u()(e)),e.state={layout:!1},e}return a()(c,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){}},{key:"ButtonType",value:function(e){var t=e.typeB,n=this.props,o=n.setAttributes,r="ized-section-type";return n.attributes.type===t&&(r="ized-section-type active"),(0,h.createElement)("span",{className:r,onClick:function(){return o({type:t})}},t)}},{key:"layoutBlocks",value:function(e){var t=this.state.layout,n=B(e);console.log(n);for(var o=0;o<t.length;o++)void 0!==n[o]?n[o].attributes.bootstrapSize=t[o]:n.push((0,r.createBlock)("ized-gutenberg/section-col",{bootstrapSize:t[o]}));if(n.length>t.length){for(var l=!0,i=t.length;i<n.length;i++)n[i].innerBlocks.length>0&&(l=!1);l&&n.splice(t.length)}C(e,n,!1),this.setEtat({layout:!1})}},{key:"setEtat",value:function(e){this.setState(e)}},{key:"setLayout",value:function(e){this.props.attributes.columns=e.columns,console.log(this),this.setState(e)}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.className,r=e.clientId,l=e.setAttributes,i=this.state.layout,c=t.columns,a=t.fullWidth,s=n+" ized-section-row";return i&&this.layoutBlocks(r),(0,h.createElement)(h.Fragment,null,(0,h.createElement)(v.InspectorControls,null,(0,h.createElement)(g.PanelBody,null,(0,h.createElement)("div",null,"Type d'élément :"),(0,h.createElement)("div",{className:"ized-section-type-container"},(0,h.createElement)(this.ButtonType,{typeB:"div"}),(0,h.createElement)(this.ButtonType,{typeB:"section"})),(0,h.createElement)(g.ToggleControl,{label:"Full Width",checked:a,onChange:function(e){return l({fullWidth:e})}})),(0,h.createElement)(g.PanelBody,{title:(0,o.__)("Layout","ized-gutenberg")},(0,h.createElement)(x,{setLayout:this.setLayout}))),(0,h.createElement)("div",{className:s},(0,h.createElement)(v.InnerBlocks,{template:(0,E.times)(c,(function(){return["ized-gutenberg/section-col"]})),templateLock:"all",allowedBlocks:["ized-gutenberg/section-col"]})))}}]),c}(h.Component);(0,r.registerBlockType)("ized-gutenberg/section-row",{title:(0,o.__)("Section","ized-gutenberg"),icon:"layout",description:(0,o.__)("Une section pouvant recevoir divers colonnes pour agrémenter vos mise-en-page.","ized-gutenberg"),category:"layout",supports:{html:!1,className:!1},attributes:{className:{type:"string"},type:{type:"string",default:"div"},fullWidth:{type:"boolean",default:!1},columns:{type:"number",default:2}},example:null,edit:S,save:function(e){var t=e.attributes,n="row",o="div";return t.fullWidth&&(n="row full-width"),"section"===t.type&&(o="section"),(0,h.createElement)(o,{className:n},(0,h.createElement)(v.InnerBlocks.Content,null))}});var _=n(154),O=n.n(_),N=window.wp.compose;var P=(0,k.select)("core/block-editor"),T=P.getBlockCount,I=P.getBlockRootClientId,R=(0,k.dispatch)("core/block-editor").removeBlock,j={xs:0,sm:1,md:2,lg:3,xl:4},L=["xs","sm","md","lg","xl"],D=function(e){f()(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=b()(t);if(n){var r=b()(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return m()(this,e)});function l(){var e;return i()(this,l),(e=r.apply(this,arguments)).BootstrapSizeMenu=e.BootstrapSizeMenu.bind(u()(e)),e.setEtat=e.setEtat.bind(u()(e)),e.setSize=e.setSize.bind(u()(e)),e.removeCol=e.removeCol.bind(u()(e)),e.state={allSize:!1,allOrder:!1},e}return a()(l,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){}},{key:"setEtat",value:function(e){this.setState(e)}},{key:"setSize",value:function(e){var t,n,o=e.size,r=e.col,l=e.type,i=this.props,c=i.attributes,a=i.setAttributes,s=c.bootstrapSize,u=c.bootstrapOffset,p=[];switch(l){case"col":n=s;break;case"order":n=u}t=j[o];for(var f=0;f<n.length;f++)f===t?p.push(r):p.push(n[f]);"col"===l&&a({bootstrapSize:p}),"order"===l&&a({bootstrapOffset:p})}},{key:"BootstrapSizeMenu",value:function(e){var t,n=this,o=e.size,r=e.type,l=this.props.attributes,i=l.bootstrapSize,c=l.bootstrapOffset,a=[{label:"auto",value:0}];t=j[o];for(var s="col"===r?i[t]:c[t],u=0;u<12;u++)a.push({label:u+1,value:u+1});return(0,h.createElement)("div",{className:"ized-bootstrap-size"},(0,h.createElement)("div",{className:"ized-bootstrap-size-label"},o),(0,h.createElement)(g.SelectControl,{value:s,className:"ized-bootstrap-size-select",options:a,onChange:function(e){return n.setSize({size:o,col:parseInt(e),type:r})}}))}},{key:"removeCol",value:function(){var e=this.props.clientId,t=I(e),n=T(t);n--,R(0===n?t:e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.clientId,r=(t.setAttributes,t.attributes,this.state),l=r.allSize,i=r.allOrder,c=T(n)>0,a=l?["xs","sm","md","lg","xl"]:["xs","md","xl"],s=i?["xs","sm","md","lg","xl"]:["xs","md","xl"];return(0,h.createElement)(h.Fragment,null,(0,h.createElement)(v.BlockControls,null,(0,h.createElement)(g.Toolbar,null,(0,h.createElement)(g.Button,{icon:"minus",label:(0,o.__)("supprimer la colonne"),onClick:this.removeCol,className:""}))),(0,h.createElement)(v.InspectorControls,null,(0,h.createElement)(g.PanelBody,{title:(0,o.__)("Column Size")},a.map((function(t){return(0,h.createElement)(e.BootstrapSizeMenu,{type:"col",size:t})})),(0,h.createElement)(g.CheckboxControl,{label:"Toutes les tailles",checked:l,onChange:function(t){return e.setEtat({allSize:t})}})),(0,h.createElement)(g.PanelBody,{title:(0,o.__)("Column Order")},s.map((function(t){return(0,h.createElement)(e.BootstrapSizeMenu,{type:"order",size:t})})),(0,h.createElement)(g.CheckboxControl,{label:"Toutes les tailles",checked:i,onChange:function(t){return e.setEtat({allOrder:t})}}))),(0,h.createElement)("div",null,(0,h.createElement)(v.InnerBlocks,{templateLock:!1,renderAppender:c?void 0:function(){return(0,h.createElement)(v.InnerBlocks.ButtonBlockAppender,null)}})))}}]),l}(h.Component),M=(0,N.createHigherOrderComponent)((function(e){return function(t){if("ized-gutenberg/section-col"===t.name){var n=t.attributes,o=n.bootstrapSize,r=n.bootstrapOffset,l="";return o&&(l="col-md-"+o[2]),r&&0!==r[2]&&(l+=" order-md-"+r[2]),(0,h.createElement)(e,O()({},t,{className:l}))}return(0,h.createElement)(e,t)}}),"HOCbootstrap");(0,r.registerBlockType)("ized-gutenberg/section-col",{title:(0,o.__)("Colonne","ized-gutenberg"),parent:["ized-gutenberg/section-row"],description:(0,o.__)("Une colonne avec pleins de propriétés","ized-gutenberg"),icon:"archive",category:"layout",supports:{inserter:!1,reusable:!1,html:!1,className:!1},attributes:{className:{type:"string"},bootstrapSize:{type:"array",default:[12,0,6,0,0]},bootstrapOffset:{type:"array",default:[0,0,0,0,0]}},example:{},edit:D,save:function(e){var t=e.attributes,n=t.bootstrapSize,o=t.bootstrapOffset,r="";function l(e,t){e.map((function(e,n){e>0&&(r+=" "+(0==n?t:t+L[n]+"-")+e)}))}return l(n,"col-"),l(o,"order-"),e.className&&(r+=" "+e.className),(0,h.createElement)("div",{className:r},(0,h.createElement)(v.InnerBlocks.Content,null))}}),wp.hooks.addFilter("editor.BlockListBlock","ized-gutenberg/section-col",M)}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,n.x=function(){},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={179:0},t=[[392]],o=function(){},r=function(r,l){for(var i,c,a=l[0],s=l[1],u=l[2],p=l[3],f=0,d=[];f<a.length;f++)c=a[f],n.o(e,c)&&e[c]&&d.push(e[c][0]),e[c]=0;for(i in s)n.o(s,i)&&(n.m[i]=s[i]);for(u&&u(n),r&&r(l);d.length;)d.shift()();return p&&t.push.apply(t,p),o()},l=self.webpackChunkgutenberg_columns_block=self.webpackChunkgutenberg_columns_block||[];function i(){for(var o,r=0;r<t.length;r++){for(var l=t[r],i=!0,c=1;c<l.length;c++){var a=l[c];0!==e[a]&&(i=!1)}i&&(t.splice(r--,1),o=n(n.s=l[0]))}return 0===t.length&&(n.x(),n.x=function(){}),o}l.forEach(r.bind(null,0)),l.push=r.bind(null,l.push.bind(l));var c=n.x;n.x=function(){return n.x=c||function(){},(o=i)()}}(),n.x()}();